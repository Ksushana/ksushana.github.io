"use strict";var ScrollWatch,initMap,mapStyle,markers;ScrollWatch=function(e,t){var i,l,s,o,a,n,r;if(this.callbacks=[],this.list=null,this.lastActiveIndex=-1,this.scrollSpeed=200,this.centered=!1,this.isTouched=!1,this.scrolled=!1,this.container=$(e),t&&t.scrollSpeed&&t.scrollSpeed,this.list=$(e+" > ul > li"),(i=this).list.on("mousedown",function(e){i.isTouched||i.setActiveByIndex($(this).index())}),t&&t.centered&&(this.centered=t.centered),s=null,$(e).on("scroll",(o=this,function(){o.highlightActiveItem(),!o.isTouched&&o.centered&&(window.clearTimeout(s),s=setTimeout(function(){return o.setActiveByIndex(o.lastActiveIndex)},200))})),this.centered)return $(e).on("touchstart",(a=this,function(e){a.isTouched=!0})),$(e).on("mouseup touchend touchcancel",(n=this,function(e){n.isTouched&&(n.setActiveByIndex(n.lastActiveIndex),n.isTouched=!1)})),l=function(e,t,i){var s,o,a;return!$(t).hasClass("hidden")&&(a={width:e.outerWidth(),offset:e.scrollLeft()},o={width:t.outerWidth(),offset:i},s=a.offset+a.width/2-parseInt(r.container.css("paddingLeft")),o.offset<s&&s<o.offset+o.width)},(r=this).getActiveIndex=function(){var e,t,i,s,o,a;for(e=null,t=i=o=0,a=this.list.length;0<=a?i<a:a<i;t=0<=a?++i:--i){if(s=this.list[t],l(this.container,$(s),o)){e=t;break}$(s).hasClass("hidden")||(o+=$(s).outerWidth(!0))}return e},this.highlightActiveItem=function(){var e,t,i,s;if(null!==(e=this.getActiveIndex())&&e!==this.lastActiveIndex)for(this.lastActiveIndex=e,t=0,i=(s=this.callbacks).length;t<i;t++)(0,s[t])(e)},this.onChange=function(e){this.callbacks.push(e)},this.setActiveByIndex=function(e){var t;this.scrolled||e>this.list.length-1||e<0||(t=this.list.eq(e).offset().left+this.container.scrollLeft(),this.isTouched=!1,(i=this).container.stop(!0,!0).animate({scrollLeft:t-parseInt(this.container.css("paddingLeft"))},{duration:this.scrollSpeed,complete:function(){i.isTouched=!1,i.scrolled=!1}}))},this.prev=function(){var e;0<(e=this.getActiveIndex())&&(e--,this.setActiveByIndex(e))},this.next=function(){var e;(e=this.getActiveIndex())<this.list.length-1&&(e++,this.setActiveByIndex(e))},this.goTo=function(e){this.setActiveByIndex(e)},this},document.getElementsByClassName("google-map")&&(mapStyle=[{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#d3d3d3"}]},{featureType:"transit",stylers:[{color:"#808080"},{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#b3b3b3"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ffffff"},{weight:1.8}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#d7d7d7"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ebebeb"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#a7a7a7"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#efefef"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#696969"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#737373"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#d6d6d6"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#dadada"}]}],markers=[],initMap=function(){var d,e,t,o,i,s,f,a,l;for(f=new google.maps.Map(document.getElementById("map1"),{center:{lat:59.5619,lng:30.185},disableDefaultUI:!0,scrollwheel:!1,styles:mapStyle,zoom:8}),d=!(o={url:"img/pin-map.png"}),l=function(e,t,i){var s,o,a,l,n;o=t.position[0],a=t.position[1],!0===d&&(s=new google.maps.LatLng(o,a),e.panTo(s)),n={coords:[1,1,1,20,18,20,18,1],type:"poly"},l=new google.maps.Marker({position:{lat:o,lng:a},map:e,icon:i,shape:n,title:t.title}),markers.push({marker:l,id:a})},t=i=0,s=places.length;i<s;t=++i)places[t],l(f,places[t],o);(a=new ScrollWatch(".scroller-map",{scrollSpeed:100,centered:!0})).onChange(function(e){var t,i,s;for($(".scroller-map > ul > li").removeClass("active").eq(e).addClass("active"),d=!0,o={url:"img/big-pin-empty.png"},t=0,i=markers.length;t<i;t++)s=markers[t],places[e].position[1]===s.id?s.marker.setMap(null):s.marker.icon.url="img/pin-map.png";f.setZoom($("#map1").data("zoom")),l(f,places[e],o)}),a.highlightActiveItem(),$("[data-tabs]").on("click",".tab-item",function(e){var t,i,s,o,a,l,n,r,c;for(e.preventDefault(),d=!1,i=$(this).index(),$(this).parents("[data-tabs]").data("tabs"),n=$(".scroller-map > ul > li"),o=$(this).data("lat"),r=$(this).data("lng"),c=$(this).data("zoom"),f.setZoom(c),t=new google.maps.LatLng(o,r),f.panTo(t),$(this).addClass("active"),$(this).siblings(".tab-item").removeClass("active"),s=0,a=n.length;s<a;s++)l=n[s],$(l).removeClass("hidden").not('[data-id="'+i+'"]').addClass("hidden")}),e=f.getZoom(),$("[data-zoomin]").click(function(){f.setZoom(e+=1)}),$("[data-zoomout]").click(function(){f.setZoom(e-=1)})},google.maps.event.addDomListener(window,"load",initMap)),$("[data-tab]").on("click",".tab-item",function(e){var t,i;e.preventDefault(),t=$(this).index(),i=$(this).parents("[data-tab]").data("tab"),$(this).addClass("active"),$(this).siblings(".tab-item").removeClass("active"),$(i).find(".tab-content").removeClass("active"),$(i).find(".tab-content").eq(t).addClass("active")}),$(document).ready(function(){var e,t,s;s={},t=function(e,t,i){i||(i="Don't call this twice without a uniqueId"),s[i]&&clearTimeout(s[i]),s[i]=setTimeout(e,t)},(e=function(){$("[data-tablet]").each(function(e,t){var i;window.innerWidth<=992?$(t).appendTo($($(t).data("tablet"))):(i=$($(t).data("desktop")),$(t).appendTo(i))}),$("[data-mobile]").each(function(e,t){var i;window.innerWidth<=768?$(t).appendTo($($(t).data("mobile"))):(i=$($(t).data("desktop")),$(t).appendTo(i))})})(),$("[data-scrollto]").click(function(e){e.preventDefault(),$("html,body").animate({scrollTop:$($(this).data("scrollto")).offset().top},500)}),$(window).resize(function(){t(function(){e()},200,"")})});